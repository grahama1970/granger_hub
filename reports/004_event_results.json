{"created": 1748878831.322658, "duration": 0.7800097465515137, "exitcode": 0, "root": "/home/graham/workspace/experiments/claude-module-communicator", "environment": {}, "summary": {"passed": 8, "total": 8, "collected": 8}, "collectors": [{"nodeid": "", "outcome": "passed", "result": [{"nodeid": "tests/core/test_event_system.py", "type": "Module"}]}, {"nodeid": "tests/core/test_event_system.py::TestEventBus", "outcome": "passed", "result": [{"nodeid": "tests/core/test_event_system.py::TestEventBus::test_basic_pub_sub", "type": "Coroutine", "lineno": 26}, {"nodeid": "tests/core/test_event_system.py::TestEventBus::test_pattern_subscriptions", "type": "Coroutine", "lineno": 74}, {"nodeid": "tests/core/test_event_system.py::TestEventBus::test_priority_handling", "type": "Coroutine", "lineno": 121}, {"nodeid": "tests/core/test_event_system.py::TestEventBus::test_event_history", "type": "Coroutine", "lineno": 178}]}, {"nodeid": "tests/core/test_event_system.py::TestEventIntegration", "outcome": "passed", "result": [{"nodeid": "tests/core/test_event_system.py::TestEventIntegration::test_event_aware_module", "type": "Coroutine", "lineno": 231}, {"nodeid": "tests/core/test_event_system.py::TestEventIntegration::test_event_aware_communicator", "type": "Coroutine", "lineno": 275}, {"nodeid": "tests/core/test_event_system.py::TestEventIntegration::test_event_error_handling", "type": "Coroutine", "lineno": 346}]}, {"nodeid": "tests/core/test_event_system.py", "outcome": "passed", "result": [{"nodeid": "tests/core/test_event_system.py::TestEventBus", "type": "Class"}, {"nodeid": "tests/core/test_event_system.py::TestEventIntegration", "type": "Class"}, {"nodeid": "tests/core/test_event_system.py::test_event_honeypot", "type": "Coroutine", "lineno": 411}]}], "tests": [{"nodeid": "tests/core/test_event_system.py::TestEventBus::test_basic_pub_sub", "lineno": 26, "outcome": "passed", "keywords": ["test_basic_pub_sub", "asyncio", "pytestmark", "TestEventBus", "test_event_system.py", "core", "tests", "claude-module-communicator", ""], "setup": {"duration": 0.0006159618496894836, "outcome": "passed"}, "call": {"duration": 0.09112351387739182, "outcome": "passed", "stdout": "\nTest Evidence: {'test_type': 'basic_pub_sub', 'events_emitted': 4, 'events_received': 2, 'subscription_worked': True, 'unsubscription_worked': True, 'duration_seconds': 0.09066534042358398}\n"}, "teardown": {"duration": 0.00025504594668745995, "outcome": "passed"}}, {"nodeid": "tests/core/test_event_system.py::TestEventBus::test_pattern_subscriptions", "lineno": 74, "outcome": "passed", "keywords": ["test_pattern_subscriptions", "asyncio", "pytestmark", "TestEventBus", "test_event_system.py", "core", "tests", "claude-module-communicator", ""], "setup": {"duration": 0.0002662660554051399, "outcome": "passed"}, "call": {"duration": 0.020697785075753927, "outcome": "passed", "stdout": "\nTest Evidence: {'test_type': 'pattern_subscriptions', 'patterns_used': ['module.*', '*.error'], 'events_matched': 5, 'double_match_handled': True, 'duration_seconds': 0.02044367790222168}\n"}, "teardown": {"duration": 0.00019813422113656998, "outcome": "passed"}}, {"nodeid": "tests/core/test_event_system.py::TestEventBus::test_priority_handling", "lineno": 121, "outcome": "passed", "keywords": ["test_priority_handling", "asyncio", "pytestmark", "TestEventBus", "test_event_system.py", "core", "tests", "claude-module-communicator", ""], "setup": {"duration": 0.00024122511968016624, "outcome": "passed"}, "call": {"duration": 0.06068930868059397, "outcome": "passed", "stdout": "\nTest Evidence: {'test_type': 'priority_handling', 'handler_order': ['high', 'normal', 'low'], 'priority_respected': True, 'duration_seconds': 0.060338735580444336}\n"}, "teardown": {"duration": 0.00024186493828892708, "outcome": "passed"}}, {"nodeid": "tests/core/test_event_system.py::TestEventBus::test_event_history", "lineno": 178, "outcome": "passed", "keywords": ["test_event_history", "asyncio", "pytestmark", "TestEventBus", "test_event_system.py", "core", "tests", "claude-module-communicator", ""], "setup": {"duration": 0.0003136158920824528, "outcome": "passed"}, "call": {"duration": 0.10166243137791753, "outcome": "passed", "stdout": "\nTest Evidence: {'test_type': 'event_history', 'history_maintained': True, 'history_filtered': True, 'events_replayed': 5, 'duration_seconds': 0.10116720199584961}\n"}, "teardown": {"duration": 0.00037274789065122604, "outcome": "passed"}}, {"nodeid": "tests/core/test_event_system.py::TestEventIntegration::test_event_aware_module", "lineno": 231, "outcome": "passed", "keywords": ["test_event_aware_module", "asyncio", "pytestmark", "TestEventIntegration", "test_event_system.py", "core", "tests", "claude-module-communicator", ""], "setup": {"duration": 0.0004210979677736759, "outcome": "passed"}, "call": {"duration": 0.021388488821685314, "outcome": "passed", "stdout": "\nTest Evidence: {'test_type': 'event_aware_module', 'events_emitted': 3, 'lifecycle_events': True, 'message_events': True, 'duration_seconds': 0.020871400833129883}\n", "stderr": "2025-06-02 11:40:30.944 | INFO     | claude_coms.core.modules.claude_code_communicator:__init__:47 - Initialized ClaudeCodeCommunicator for module 'test_module'\n2025-06-02 11:40:30.944 | INFO     | claude_coms.core.modules.base_module:__init__:63 - Initialized module: test_module\n"}, "teardown": {"duration": 0.00036357808858156204, "outcome": "passed"}}, {"nodeid": "tests/core/test_event_system.py::TestEventIntegration::test_event_aware_communicator", "lineno": 275, "outcome": "passed", "keywords": ["test_event_aware_communicator", "asyncio", "pytestmark", "TestEventIntegration", "test_event_system.py", "core", "tests", "claude-module-communicator", ""], "setup": {"duration": 0.00037897704169154167, "outcome": "passed"}, "call": {"duration": 0.19064060226082802, "outcome": "passed", "stdout": "\nTest Evidence: {'test_type': 'event_aware_communicator', 'total_events': 6, 'module_events': 1, 'communication_events': True, 'subscriber_working': True, 'duration_seconds': 0.173264741897583}\n", "stderr": "2025-06-02 11:40:30.967 | ERROR    | claude_coms.core.modules.module_registry:_load_registry:63 - Failed to load registry: Expecting value: line 1 column 1 (char 0)\n2025-06-02 11:40:30.967 | INFO     | claude_coms.core.modules.module_registry:__init__:51 - Initialized ModuleRegistry with file: /tmp/tmp6poc6azj.json\n2025-06-02 11:40:30.968 | INFO     | claude_coms.core.modules.claude_code_communicator:__init__:47 - Initialized ClaudeCodeCommunicator for module 'module1'\n2025-06-02 11:40:30.968 | INFO     | claude_coms.core.modules.base_module:__init__:63 - Initialized module: module1\n2025-06-02 11:40:30.968 | INFO     | claude_coms.core.modules.claude_code_communicator:__init__:47 - Initialized ClaudeCodeCommunicator for module 'module2'\n2025-06-02 11:40:30.968 | INFO     | claude_coms.core.modules.base_module:__init__:63 - Initialized module: module2\n2025-06-02 11:40:30.970 | DEBUG    | claude_coms.core.modules.module_registry:_save_registry:75 - Saved registry with 1 modules\n2025-06-02 11:40:30.970 | SUCCESS  | claude_coms.core.modules.module_registry:register_module:84 - Registered module: module1\n2025-06-02 11:40:30.970 | DEBUG    | claude_coms.core.modules.module_registry:_save_registry:75 - Saved registry with 2 modules\n2025-06-02 11:40:30.970 | SUCCESS  | claude_coms.core.modules.module_registry:register_module:84 - Registered module: module2\n", "log": [{"name": "claude_coms.core.event_system", "msg": "Handler concurrency limit reached for module.started", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/graham/workspace/experiments/claude-module-communicator/src/claude_coms/core/event_system.py", "filename": "event_system.py", "module": "event_system", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 262, "funcName": "_execute_handlers", "created": 1748878830.970989, "msecs": 970.0, "relativeCreated": 549.6377944946289, "thread": 129810040891200, "threadName": "MainThread", "processName": "MainProcess", "process": 3072641}, {"name": "claude_coms.core.event_system", "msg": "Handler concurrency limit reached for module.started", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/graham/workspace/experiments/claude-module-communicator/src/claude_coms/core/event_system.py", "filename": "event_system.py", "module": "event_system", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 262, "funcName": "_execute_handlers", "created": 1748878830.9710817, "msecs": 971.0, "relativeCreated": 549.7305393218994, "thread": 129810040891200, "threadName": "MainThread", "processName": "MainProcess", "process": 3072641}]}, "teardown": {"duration": 0.00021254364401102066, "outcome": "passed"}}, {"nodeid": "tests/core/test_event_system.py::TestEventIntegration::test_event_error_handling", "lineno": 346, "outcome": "passed", "keywords": ["test_event_error_handling", "asyncio", "pytestmark", "TestEventIntegration", "test_event_system.py", "core", "tests", "claude-module-communicator", ""], "setup": {"duration": 0.0002605249173939228, "outcome": "passed"}, "call": {"duration": 0.1208984567783773, "outcome": "passed", "stdout": "\nTest Evidence: {'test_type': 'error_handling', 'errors_caught': 2, 'error_types': ['ValueError', 'TimeoutError'], 'duration_seconds': 0.12062263488769531}\n", "log": [{"name": "claude_coms.core.event_system", "msg": "Handler error for event error.test: Test error", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/graham/workspace/experiments/claude-module-communicator/src/claude_coms/core/event_system.py", "filename": "event_system.py", "module": "event_system", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 85, "funcName": "handle", "created": 1748878831.158287, "msecs": 158.0, "relativeCreated": 736.9358539581299, "thread": 129810040891200, "threadName": "MainThread", "processName": "MainProcess", "process": 3072641}, {"name": "claude_coms.core.event_system", "msg": "Handler timeout for event timeout.test", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/graham/workspace/experiments/claude-module-communicator/src/claude_coms/core/event_system.py", "filename": "event_system.py", "module": "event_system", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "handle", "created": 1748878831.2586355, "msecs": 258.0, "relativeCreated": 837.2843265533447, "thread": 129810040891200, "threadName": "MainThread", "processName": "MainProcess", "process": 3072641}]}, "teardown": {"duration": 0.00020899437367916107, "outcome": "passed"}}, {"nodeid": "tests/core/test_event_system.py::test_event_honeypot", "lineno": 411, "outcome": "passed", "keywords": ["test_event_honeypot", "asyncio", "pytestmark", "test_event_system.py", "core", "tests", "claude-module-communicator", ""], "setup": {"duration": 0.0002450747415423393, "outcome": "passed"}, "call": {"duration": 0.04220072599127889, "outcome": "passed", "stdout": "\nHoneypot Evidence: {'honeypot': 'instant_events', 'events_processed': 10000, 'duration_seconds': 0.0413813591003418, 'events_per_second': 241654.7019577567, 'unrealistic_behavior': 'No event processing delay'}\n", "log": [{"name": "asyncio", "msg": "Task was destroyed but it is pending!\ntask: <Task pending name='Task-38' coro=<EventAwareModuleCommunicator._monitor_conversation() done, defined at /home/graham/workspace/experiments/claude-module-communicator/src/claude_coms/core/event_integration.py:247> wait_for=<Future pending cb=[Task.task_wakeup()]>>", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/graham/.local/share/uv/python/cpython-3.11.12-linux-x86_64-gnu/lib/python3.11/asyncio/base_events.py", "filename": "base_events.py", "module": "base_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1785, "funcName": "default_exception_handler", "created": 1748878831.2810385, "msecs": 281.0, "relativeCreated": 859.687328338623, "thread": 129810040891200, "threadName": "MainThread", "processName": "MainProcess", "process": 3072641}]}, "teardown": {"duration": 0.00028980616480112076, "outcome": "passed"}}]}