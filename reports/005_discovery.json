{"created": 1748885069.357411, "duration": 2.63602352142334, "exitcode": 0, "root": "/home/graham/workspace/experiments/claude-module-communicator", "environment": {}, "summary": {"passed": 6, "total": 6, "collected": 6}, "collectors": [{"nodeid": "", "outcome": "passed", "result": [{"nodeid": "tests/test_service_discovery.py", "type": "Module"}]}, {"nodeid": "tests/test_service_discovery.py::TestServiceDiscovery", "outcome": "passed", "result": [{"nodeid": "tests/test_service_discovery.py::TestServiceDiscovery::test_manual_service_registration", "type": "Coroutine", "lineno": 19}, {"nodeid": "tests/test_service_discovery.py::TestServiceDiscovery::test_failover_strategies", "type": "Coroutine", "lineno": 91}, {"nodeid": "tests/test_service_discovery.py::TestServiceDiscovery::test_circuit_breaker", "type": "Coroutine", "lineno": 163}, {"nodeid": "tests/test_service_discovery.py::TestServiceDiscovery::test_health_score_calculation", "type": "Coroutine", "lineno": 209}, {"nodeid": "tests/test_service_discovery.py::TestServiceDiscovery::test_concurrent_health_checks", "type": "Coroutine", "lineno": 269}, {"nodeid": "tests/test_service_discovery.py::TestServiceDiscovery::test_honeypot_instant_discovery", "type": "Function", "lineno": 317}]}, {"nodeid": "tests/test_service_discovery.py", "outcome": "passed", "result": [{"nodeid": "tests/test_service_discovery.py::TestServiceDiscovery", "type": "Class"}]}], "tests": [{"nodeid": "tests/test_service_discovery.py::TestServiceDiscovery::test_manual_service_registration", "lineno": 19, "outcome": "passed", "keywords": ["test_manual_service_registration", "asyncio", "pytestmark", "TestServiceDiscovery", "test_service_discovery.py", "tests", "claude-module-communicator", ""], "setup": {"duration": 0.0008200220763683319, "outcome": "passed"}, "call": {"duration": 1.0024486612528563, "outcome": "passed", "stdout": "\nService Discovery Test Evidence:\n- Registered 2 services\n- Health checks performed\n- 2 healthy services found\n- Service mesh status: 2/2 healthy\n- Test duration: 1.002s\n", "log": [{"name": "claude_coms.core.discovery.service_discovery", "msg": "Running without mDNS discovery", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/graham/workspace/experiments/claude-module-communicator/src/claude_coms/core/discovery/service_discovery.py", "filename": "service_discovery.py", "module": "service_discovery", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 221, "funcName": "start", "created": 1748885066.8427312, "msecs": 842.0, "relativeCreated": 264.8193836212158, "thread": 126080826441856, "threadName": "MainThread", "processName": "MainProcess", "process": 3692730}]}, "teardown": {"duration": 0.00028906483203172684, "outcome": "passed"}}, {"nodeid": "tests/test_service_discovery.py::TestServiceDiscovery::test_failover_strategies", "lineno": 91, "outcome": "passed", "keywords": ["test_failover_strategies", "asyncio", "pytestmark", "TestServiceDiscovery", "test_service_discovery.py", "tests", "claude-module-communicator", ""], "setup": {"duration": 0.00030528474599123, "outcome": "passed"}, "call": {"duration": 0.0007606819272041321, "outcome": "passed", "stdout": "\nFailover Strategy Test Evidence:\n- round_robin: ['fast_service', 'slow_service', 'fast_service', 'slow_service']\n- least_connections: ['fast_service', 'slow_service', 'fast_service', 'slow_service']\n- fastest_response: ['fast_service', 'fast_service', 'fast_service', 'fast_service']\n- weighted: ['slow_service', 'slow_service', 'fast_service', 'slow_service']\n- Test duration: 0.000s\n", "log": [{"name": "claude_coms.core.discovery.service_discovery", "msg": "Running without mDNS discovery", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/graham/workspace/experiments/claude-module-communicator/src/claude_coms/core/discovery/service_discovery.py", "filename": "service_discovery.py", "module": "service_discovery", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 221, "funcName": "start", "created": 1748885067.8463192, "msecs": 846.0, "relativeCreated": 1268.4073448181152, "thread": 126080826441856, "threadName": "MainThread", "processName": "MainProcess", "process": 3692730}, {"name": "claude_coms.core.discovery.service_discovery", "msg": "Running without mDNS discovery", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/graham/workspace/experiments/claude-module-communicator/src/claude_coms/core/discovery/service_discovery.py", "filename": "service_discovery.py", "module": "service_discovery", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 221, "funcName": "start", "created": 1748885067.8464384, "msecs": 846.0, "relativeCreated": 1268.526554107666, "thread": 126080826441856, "threadName": "MainThread", "processName": "MainProcess", "process": 3692730}, {"name": "claude_coms.core.discovery.service_discovery", "msg": "Running without mDNS discovery", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/graham/workspace/experiments/claude-module-communicator/src/claude_coms/core/discovery/service_discovery.py", "filename": "service_discovery.py", "module": "service_discovery", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 221, "funcName": "start", "created": 1748885067.8466163, "msecs": 846.0, "relativeCreated": 1268.7044143676758, "thread": 126080826441856, "threadName": "MainThread", "processName": "MainProcess", "process": 3692730}, {"name": "claude_coms.core.discovery.service_discovery", "msg": "Running without mDNS discovery", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/graham/workspace/experiments/claude-module-communicator/src/claude_coms/core/discovery/service_discovery.py", "filename": "service_discovery.py", "module": "service_discovery", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 221, "funcName": "start", "created": 1748885067.846695, "msecs": 846.0, "relativeCreated": 1268.7830924987793, "thread": 126080826441856, "threadName": "MainThread", "processName": "MainProcess", "process": 3692730}]}, "teardown": {"duration": 0.00017892289906740189, "outcome": "passed"}}, {"nodeid": "tests/test_service_discovery.py::TestServiceDiscovery::test_circuit_breaker", "lineno": 163, "outcome": "passed", "keywords": ["test_circuit_breaker", "asyncio", "pytestmark", "TestServiceDiscovery", "test_service_discovery.py", "tests", "claude-module-communicator", ""], "setup": {"duration": 0.00023147370666265488, "outcome": "passed"}, "call": {"duration": 1.0008802898228168, "outcome": "passed", "stdout": "\nCircuit Breaker Test Evidence:\n- Service marked unhealthy after failures\n- Open circuits: 1\n- Test duration: 1.000s\n", "log": [{"name": "claude_coms.core.discovery.service_discovery", "msg": "Running without mDNS discovery", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/graham/workspace/experiments/claude-module-communicator/src/claude_coms/core/discovery/service_discovery.py", "filename": "service_discovery.py", "module": "service_discovery", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 221, "funcName": "start", "created": 1748885067.847826, "msecs": 847.0, "relativeCreated": 1269.914150238037, "thread": 126080826441856, "threadName": "MainThread", "processName": "MainProcess", "process": 3692730}, {"name": "claude_coms.core.discovery.service_discovery", "msg": "Circuit breaker opened for failing_service", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/graham/workspace/experiments/claude-module-communicator/src/claude_coms/core/discovery/service_discovery.py", "filename": "service_discovery.py", "module": "service_discovery", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 493, "funcName": "_record_circuit_breaker_failure", "created": 1748885068.2989862, "msecs": 298.0, "relativeCreated": 1721.0743427276611, "thread": 126080826441856, "threadName": "MainThread", "processName": "MainProcess", "process": 3692730}]}, "teardown": {"duration": 0.00042318692430853844, "outcome": "passed"}}, {"nodeid": "tests/test_service_discovery.py::TestServiceDiscovery::test_health_score_calculation", "lineno": 209, "outcome": "passed", "keywords": ["test_health_score_calculation", "asyncio", "pytestmark", "TestServiceDiscovery", "test_service_discovery.py", "tests", "claude-module-communicator", ""], "setup": {"duration": 0.0005677100270986557, "outcome": "passed"}, "call": {"duration": 0.0004991577006876469, "outcome": "passed", "stdout": "\nHealth Score Test Evidence:\n- Healthy service score: 100.0\n- Degraded service score: 35.0\n- Unhealthy service score: 0.0\n- Test duration: 0.000s\n"}, "teardown": {"duration": 0.0003315852954983711, "outcome": "passed"}}, {"nodeid": "tests/test_service_discovery.py::TestServiceDiscovery::test_concurrent_health_checks", "lineno": 269, "outcome": "passed", "keywords": ["test_concurrent_health_checks", "asyncio", "pytestmark", "TestServiceDiscovery", "test_service_discovery.py", "tests", "claude-module-communicator", ""], "setup": {"duration": 0.0004482869990170002, "outcome": "passed"}, "call": {"duration": 0.5020149820484221, "outcome": "passed", "stdout": "\nConcurrent Health Check Test Evidence:\n- Registered 10 services\n- Health checked 10 services\n- All checks ran concurrently\n- Test duration: 0.501s\n", "log": [{"name": "claude_coms.core.discovery.service_discovery", "msg": "Running without mDNS discovery", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/graham/workspace/experiments/claude-module-communicator/src/claude_coms/core/discovery/service_discovery.py", "filename": "service_discovery.py", "module": "service_discovery", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 221, "funcName": "start", "created": 1748885068.8525376, "msecs": 852.0, "relativeCreated": 2274.625778198242, "thread": 126080826441856, "threadName": "MainThread", "processName": "MainProcess", "process": 3692730}]}, "teardown": {"duration": 0.00044927792623639107, "outcome": "passed"}}, {"nodeid": "tests/test_service_discovery.py::TestServiceDiscovery::test_honeypot_instant_discovery", "lineno": 317, "outcome": "passed", "keywords": ["test_honeypot_instant_discovery", "TestServiceDiscovery", "test_service_discovery.py", "tests", "claude-module-communicator", ""], "setup": {"duration": 0.00024736393243074417, "outcome": "passed"}, "call": {"duration": 0.0007372410036623478, "outcome": "passed", "stdout": "\nHoneypot Discovery Test:\n- 'Discovered' 100 services instantly\n- Duration: 0.000394s\n- This is fake - real discovery needs network operations\n"}, "teardown": {"duration": 0.00031287502497434616, "outcome": "passed"}}]}